<div [@routerTransition]>
    <section class="content-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <h3>
                        Adaugare / modificare cont bancar
                    </h3>
                </div>
            </div>
        </div>
    </section>
    <section class="content px-2">
        <div class="container-fluid">
            <div class="body">
                <form id="thirdPartyAcc" #thirdPartyAccForm="ngForm" (ngSubmit)="saveBankFnc()" [busy]="isLoading">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="bankId" class="col-form-label">
                                    Banca
                                </label>
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fas fa-check-circle" aria-hidden="true"></i>
                                    </span>
                                    <select class="form-control"
                                            name="bankId"
                                            [(ngModel)]="thirdPartyAccEdit.bankId"
                                            #bankId="ngModel">
                                        <option *ngFor="let value of banks?.getBank" [ngValue]="value.issuerId">{{value.bankName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="iban" class="col-form-label">
                                    IBAN
                                </label>
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fas fa-check-circle" aria-hidden="true"></i>
                                    </span>
                                    <input id="iban"
                                           name="iban"
                                           type="text"
                                           [(ngModel)]="thirdPartyAccEdit.iban"
                                           class="form-control"
                                           #iban="ngModel"
                                           #ibanEl
                                           required />
                                </div>
                                <abp-validation-summary [control]="iban"
                                                        [controlEl]="ibanEl"></abp-validation-summary>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="currencyId" class="col-form-label">
                                    Moneda

                                </label>
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fas fa-check-circle" aria-hidden="true"></i>
                                    </span>
                                    <select class="form-control"
                                            name="currencyId"
                                            [(ngModel)]="thirdPartyAccEdit.currencyId"
                                            #currencyId="ngModel">
                                        <option *ngFor="let value of currencies?.getCurrency" [ngValue]="value.id">{{value.currencyCode}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-lg-5">
                            <button [routerLink]="['/app/nomenclatoare/thirdParty/thirdPartyAcc']"
                                    [queryParams]="{thirdPartyId: thirdPartyId}"
                                    title="Inapoi"
                                    class="btn btn-info">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                        <div class="col-lg-7 col-lg-offset-4" *ngIf="isGranted('General.Persoane.Modificare')">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fas fa-check-circle" aria-hidden="true"></i>
                                </span>
                                <button [disabled]="!thirdPartyAccForm.form.valid"
                                        type="submit"
                                        class="btn btn-info btn-circle"
                                        title="Salvare">
                                    <i class="fas fa-save"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>
</div>
